'use strict';

const Q = require('q');
const fs = require('fs');
const staticHandler = exports;

staticHandler.extension = "static";

staticHandler.handle = function(component, scriptPath) {
	let deferred = Q.defer();
	fs.readFile("." + scriptPath, function(err, data) {
		if (err)
		{
			let message = "Error while reading static resource.";
			deferred.reject(new Error(message));
		}
		else
		{
			deferred.resolve(data);
		}
	});
	return deferred.promise;
};
